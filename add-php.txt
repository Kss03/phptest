Пробуем в пхп.
Узнать есть ли рекурсия в пхп.
Если есть, то попробовать проитерироваться по папкам, затем пробуем заюзать на гугле.
разобраться с разметкой пхп.